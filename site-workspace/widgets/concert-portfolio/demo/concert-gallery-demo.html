<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Concert Gallery Demo - Random Shuffling</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .demo-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 20px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .demo-header h1 {
            color: #333;
            margin: 0 0 10px 0;
        }
        
        .demo-header p {
            color: #666;
            margin: 10px 0;
        }
        
        .reload-btn {
            background: #007bff;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            transition: background 0.2s ease;
        }
        
        .reload-btn:hover {
            background: #0056b3;
        }
        
        .stats {
            background: white;
            padding: 15px;
            border-radius: 6px;
            margin: 20px 0;
            font-size: 14px;
            color: #666;
        }
        
        /* Concert Gallery Styles */
        #github-portfolio-gallery {
            margin: 20px 0;
            min-height: 200px;
        }
        
        .portfolio-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            padding: 20px 0;
        }
        
        .portfolio-card {
            position: relative;
            border-radius: 8px;
            overflow: hidden;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: #f5f5f5;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .portfolio-card:hover,
        .portfolio-card:focus {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            outline: 2px solid #007bff;
            outline-offset: 2px;
        }
        
        .portfolio-thumbnail {
            position: relative;
            width: 100%;
            height: 200px;
            overflow: hidden;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .mock-image {
            color: white;
            text-align: center;
            font-size: 16px;
            font-weight: bold;
        }
        
        .portfolio-card:hover .portfolio-thumbnail {
            transform: scale(1.02);
        }
        
        .portfolio-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.8));
            color: white;
            padding: 30px 15px 15px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }
        
        .portfolio-card:hover .portfolio-overlay,
        .portfolio-card:focus .portfolio-overlay {
            transform: translateY(0);
        }
        
        .portfolio-title {
            margin: 0 0 5px 0;
            font-size: 16px;
            font-weight: bold;
        }
        
        .portfolio-count {
            margin: 0;
            font-size: 12px;
            opacity: 0.9;
        }
        
        .loading-spinner {
            text-align: center;
            padding: 50px;
            font-size: 16px;
            color: #666;
        }
        
        /* Responsive Design */
        @media (max-width: 768px) {
            .portfolio-grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                gap: 15px;
            }
            
            .portfolio-thumbnail {
                height: 150px;
            }
        }
        
        @media (max-width: 480px) {
            .portfolio-grid {
                grid-template-columns: 1fr;
            }
            
            .portfolio-thumbnail {
                height: 180px;
            }
        }
    </style>
</head>
<body>
    <div class="demo-header">
        <h1>ðŸŽ¸ Concert Gallery Demo - Random Shuffling</h1>
        <p>This demonstrates how your concert gallery will randomize on every page load</p>
        <button class="reload-btn" onclick="reloadGallery()">ðŸŽ² Shuffle Gallery</button>
        <button class="reload-btn" onclick="location.reload()">ðŸ”„ Full Page Reload</button>
        <div class="stats" id="stats"></div>
    </div>
    
    <div id="github-portfolio-gallery">
        <div class="loading-spinner">Loading concert gallery...</div>
    </div>

<script>
// Mock concert data (simulating your GitHub repository)
const MOCK_CONCERTS = [
    {
        name: 'arctic-monkeys-2024',
        displayName: 'Arctic Monkeys 2024',
        images: [
            { name: 'stage-lights.jpg', url: '#' },
            { name: 'crowd-energy.jpg', url: '#' },
            { name: 'band-closeup.jpg', url: '#' },
            { name: 'guitarist-solo.jpg', url: '#' }
        ]
    },
    {
        name: 'taylor-swift-eras',
        displayName: 'Taylor Swift Eras',
        images: [
            { name: 'opening-act.jpg', url: '#' },
            { name: 'surprise-song.jpg', url: '#' },
            { name: 'confetti-moment.jpg', url: '#' },
            { name: 'final-bow.jpg', url: '#' },
            { name: 'costume-change.jpg', url: '#' }
        ]
    },
    {
        name: 'coachella-highlights',
        displayName: 'Coachella Highlights',
        images: [
            { name: 'sunset-stage.jpg', url: '#' },
            { name: 'dancing-crowd.jpg', url: '#' },
            { name: 'headliner-moment.jpg', url: '#' }
        ]
    },
    {
        name: 'local-indie-show',
        displayName: 'Local Indie Show',
        images: [
            { name: 'intimate-venue.jpg', url: '#' },
            { name: 'acoustic-set.jpg', url: '#' },
            { name: 'fan-interaction.jpg', url: '#' },
            { name: 'merchandise-table.jpg', url: '#' },
            { name: 'sound-check.jpg', url: '#' },
            { name: 'encore-performance.jpg', url: '#' }
        ]
    },
    {
        name: 'rock-festival-2024',
        displayName: 'Rock Festival 2024',
        images: [
            { name: 'main-stage-setup.jpg', url: '#' },
            { name: 'mosh-pit-action.jpg', url: '#' },
            { name: 'pyrotechnics.jpg', url: '#' },
            { name: 'drum-solo.jpg', url: '#' }
        ]
    }
];

let shuffleCount = 0;
let currentOrder = [];

/**
 * Shuffle array randomly using Fisher-Yates algorithm
 */
function shuffleArray(array) {
    const shuffled = [...array]; // Create a copy
    for (let i = shuffled.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
    }
    return shuffled;
}

/**
 * Generate random gradient colors for mock images
 */
function getRandomGradient() {
    const colors = [
        ['#667eea', '#764ba2'],
        ['#f093fb', '#f5576c'],
        ['#4facfe', '#00f2fe'],
        ['#43e97b', '#38f9d7'],
        ['#fa709a', '#fee140'],
        ['#a8edea', '#fed6e3'],
        ['#ff9a9e', '#fecfef'],
        ['#ffecd2', '#fcb69f']
    ];
    const [color1, color2] = colors[Math.floor(Math.random() * colors.length)];
    return `linear-gradient(135deg, ${color1} 0%, ${color2} 100%)`;
}

/**
 * Create gallery HTML structure with shuffled data
 */
function createGalleryHTML(concerts) {
    // Shuffle concerts
    const shuffledConcerts = shuffleArray(concerts);
    
    // Shuffle images within each concert
    const concertsWithShuffledImages = shuffledConcerts.map(concert => ({
        ...concert,
        images: shuffleArray(concert.images),
        gradient: getRandomGradient()
    }));
    
    // Store current order for stats
    currentOrder = concertsWithShuffledImages.map(c => c.displayName);
    
    return `
        <div class="portfolio-grid">
            ${concertsWithShuffledImages.map((concert, index) => `
                <div class="portfolio-card" data-concert="${concert.name}" tabindex="0" role="button" aria-label="Open ${concert.displayName} concert gallery">
                    <div class="portfolio-thumbnail" style="background: ${concert.gradient};">
                        <div class="mock-image">
                            ðŸ“¸ ${concert.images[0].name}<br>
                            <small>(Position ${index + 1})</small>
                        </div>
                        <div class="portfolio-overlay">
                            <h3 class="portfolio-title">${concert.displayName}</h3>
                            <p class="portfolio-count">${concert.images.length} image${concert.images.length !== 1 ? 's' : ''}</p>
                        </div>
                    </div>
                </div>
            `).join('')}
        </div>
    `;
}

/**
 * Update statistics display
 */
function updateStats() {
    shuffleCount++;
    const statsEl = document.getElementById('stats');
    statsEl.innerHTML = `
        <strong>Shuffle #${shuffleCount}</strong><br>
        Current Order: ${currentOrder.join(' â†’ ')}<br>
        <small>Notice how both the concert order AND thumbnail images change each time!</small>
    `;
}

/**
 * Load/reload the gallery
 */
function reloadGallery() {
    const container = document.getElementById('github-portfolio-gallery');
    
    // Show loading
    container.innerHTML = '<div class="loading-spinner">ðŸŽ² Shuffling concerts...</div>';
    
    // Simulate loading delay
    setTimeout(() => {
        container.innerHTML = createGalleryHTML(MOCK_CONCERTS);
        updateStats();
        
        // Add click handlers for demo
        const cards = container.querySelectorAll('.portfolio-card');
        cards.forEach(card => {
            const concertName = card.dataset.concert;
            const concert = MOCK_CONCERTS.find(c => c.name === concertName);
            
            card.addEventListener('click', () => {
                alert(`ðŸŽµ Would open lightbox for: ${concert.displayName}\n\nImages in random order:\n${concert.images.map(img => 'â€¢ ' + img.name).join('\n')}`);
            });
            
            // Keyboard accessibility
            card.addEventListener('keydown', (e) => {
                if (e.key === 'Enter' || e.key === ' ') {
                    e.preventDefault();
                    card.click();
                }
            });
        });
    }, 500);
}

// Initialize gallery on page load
document.addEventListener('DOMContentLoaded', () => {
    reloadGallery();
});

// Show shuffle info
console.log('ðŸŽ² Concert Gallery Demo');
console.log('Click "Shuffle Gallery" to see randomization in action!');
console.log('Each shuffle changes:');
console.log('â€¢ Concert card order');
console.log('â€¢ Thumbnail images (first image of shuffled list)');
console.log('â€¢ Background gradients');
console.log('â€¢ Image order within each concert');
</script>

</body>
</html>